{"version":3,"sources":["app.js"],"names":["app","use","json","all","req","res","next","header","method","send","get","status","redirect","listen","console","log"],"mappings":";;AAQA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACA;;AANA;AAVA;;;;;;;;AAiBAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;;AAEA;AACAF,IAAIG,GAAJ,CAAQ,GAAR,EAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACnCD,QAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,qEAA3C;AACAF,QAAIE,MAAJ,CAAW,8BAAX,EAA2C,6BAA3C;AACAF,QAAIE,MAAJ,CAAW,cAAX,EAA2B,QAA3B;AACAH,QAAII,MAAJ,IAAc,SAAd,GAA0BH,IAAII,IAAJ,CAAS,GAAT,CAA1B,GAA0CH,MAA1C;AACH,CAND;;AAQA;AACAN,IAAIC,GAAJ,CAAQ,OAAR;AACAD,IAAIC,GAAJ,CAAQ,QAAR;AACAD,IAAIC,GAAJ,CAAQ,UAAR;;AAGAD,IAAIU,GAAJ,CAAQ,GAAR,EAAa,UAACN,GAAD,EAAMC,GAAN,EAAc;AACvB;AACAA,QAAIM,MAAJ,CAAW,GAAX,EAAgBC,QAAhB,CAAyB,QAAzB;AACH,CAHD;;AAKA;AACA;AACA;AACAZ,IAAIa,MAAJ,CAAW,IAAX,EAAiB;AAAA,WAAKC,QAAQC,GAAR,CAAY,4BAAZ,CAAL;AAAA,CAAjB","file":"app.js","sourcesContent":["/*\n * 出发吧 服务器后端入口文件\n * @Author: Cphayim \n * @Date: 2017-04-18 17:42:40 \n * @Last Modified by: Cphayim\n * @Last Modified time: 2017-05-06 17:42:05\n */\n\nimport express from 'express'\nimport bodyParser from 'body-parser'\n// 路由模块\nimport user from './routers/user'\nimport manage from './routers/manage'\nimport product from './routers/product'\n\nconst app = express();\n// post 请求体处理\napp.use(bodyParser.json());\n\n// HTTP 跨域响应头\napp.all('*', function (req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Content-Type,Content-Length, Authorization, Accept,X-Requested-With\");\n    res.header(\"Access-Control-Allow-Methods\", \"PUT,POST,GET,DELETE,OPTIONS\");\n    res.header(\"X-Powered-By\", ' 3.2.1')\n    req.method == \"OPTIONS\" ? res.send(200) : next();\n});\n\n// 路由挂载\napp.use('/user', user);\napp.use('/admin', manage);\napp.use('/product', product);\n\n\napp.get('/', (req, res) => {\n    // 301 重定向\n    res.status(301).redirect('/admin');\n});\n\n// 端口监听\n// 开发环境: 本地(127.0.0.1)3000端口直接访问\n// 生产环境: 公网 ip:80/443 端口(或域名)访问，Nginx 反向代理 转发到 3000 端口\napp.listen(3000, _ => console.log('Chufaba Server is Running.'));"]}